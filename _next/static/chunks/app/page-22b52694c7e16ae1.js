(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1997:(e,t,a)=>{Promise.resolve().then(a.bind(a,7423))},7423:(e,t,a)=>{"use strict";a.d(t,{TodoList:()=>n});var s=a(5155),l=a(2115);let o=e=>{let{todo:t,onDelete:a}=e,[o,r]=(0,l.useState)(!1),d=async()=>{r(!0);try{await a(t.id)}finally{r(!1)}};return(0,s.jsxs)("li",{className:"flex justify-between items-center p-3 bg-white border border-gray-200 rounded shadow-sm",children:[(0,s.jsx)("span",{className:"transition-all ".concat(t.completed?"line-through text-gray-400":"text-gray-800"),children:t.title}),(0,s.jsx)("button",{className:"text-red-500 hover:text-red-700 focus:outline-none disabled:text-red-300","aria-label":"Delete todo",disabled:o,onClick:d,children:o?"Deleting":"Delete"})]})},r=e=>{let{onAdd:t}=e,[a,o]=(0,l.useState)(""),[r,d]=(0,l.useState)(!1),n=async e=>{if(e.preventDefault(),a.trim){d(!0);try{await t(a),o("")}catch(e){alert(e)}finally{d(!1)}}};return(0,s.jsxs)("form",{className:"mb-4 flex",onSubmit:n,children:[(0,s.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),placeholder:"Add a new task...",className:"flex-1 p-2 border border-gray-300 rounded-l focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:r}),(0,s.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-r hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-blue-300",children:r?"Creating":"Create"})]})};var d=a(3464);let n=e=>{let{initialTodos:t}=e,[a,n]=(0,l.useState)(t),i=t.length>0?Math.max(...t.map(e=>e.id))+1:1,[c,u]=(0,l.useState)(i),b=async e=>{n([...a,{id:c,title:e,completed:!1,userId:1}]),u(c+1);try{await d.A.post("https://jsonplaceholder.typicode.com/todos",{title:e,completed:!1,userId:1})}catch(e){n(a),u(c),alert("Todo can not be added")}},h=async e=>{await d.A.delete("https://jsonplaceholder.typicode.com/todos/".concat(e)),n(a.filter(t=>t.id!==e))};return(0,s.jsxs)("div",{className:"container mx-auto p-4 max-w-md",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Todo App"}),(0,s.jsx)(r,{onAdd:b}),(0,s.jsx)("ul",{className:"space-y-2",children:a.map(e=>(0,s.jsx)(o,{todo:e,onDelete:h},e.id))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[464,441,684,358],()=>t(1997)),_N_E=e.O()}]);